<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Advancements - GabiMinecraft02</title>
<style>
    body { font-family: Arial, sans-serif; background: #1e1e2f; color: #fff; padding: 20px; }
    h1, h2 { text-align: center; }
    .buttons { text-align: center; margin-bottom: 20px; }
    .buttons button { margin: 0 10px; padding: 10px 20px; cursor: pointer; }
    .gallery img { width: 150px; margin: 5px; border-radius: 5px; }
    .popup { display: none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); justify-content: center; align-items: center; }
    .popup-content { background: #2e2e50; padding: 20px; border-radius: 10px; width: 300px; }
    .popup-content input, .popup-content textarea { width: 100%; margin: 5px 0; padding: 5px; }
    .back-button { margin-bottom: 20px; }
</style>
</head>
<body>

<!-- Bouton Retour -->
<div class="back-button">
    <a href="/"><button>‚Üê Retour au Menu</button></a>
</div>

<h1>Advancements / Publications</h1>

<!-- Boutons Upload -->
<div class="buttons">
    <button onclick="showPopup('image')">Upload Image</button>
    <button onclick="showPopup('text')">Upload Texte</button>
</div>

<!-- Popups Upload -->
<div id="popup-image" class="popup">
    <div class="popup-content">
        <h3>Upload Image</h3>
        <form action="/upload_image" method="POST" enctype="multipart/form-data">
            <input type="text" name="name" placeholder="Nom de l'image (optionnel)">
            <input type="file" name="file" accept="image/*" required>
            <button type="submit">Uploader</button>
            <button type="button" onclick="closePopup('image')">Annuler</button>
        </form>
    </div>
</div>

<div id="popup-text" class="popup">
    <div class="popup-content">
        <h3>Upload Texte</h3>
        <form action="/upload_text" method="POST">
            <textarea name="text" rows="4" placeholder="Tape ton texte ici..." required></textarea><br>
            <button type="submit">Publier</button>
            <button type="button" onclick="closePopup('text')">Annuler</button>
        </form>
    </div>
</div>

<!-- Affichage des publications -->
<h2>üñºÔ∏è Images publi√©es</h2>
<div class="gallery">
{% for img in images %}
    <img src="{{ url_for('static', filename='uploads/' + img) }}" alt="{{ img }}">
{% endfor %}
</div>

<h2>üìú Textes publi√©s</h2>
<div>
{% for line in texts %}
    <p>{{ line }}</p>
{% endfor %}
</div>

<script>
function showPopup(type) {
    document.getElementById('popup-' + type).style.display = 'flex';
}
function closePopup(type) {
    document.getElementById('popup-' + type).style.display = 'none';
}
</script>

</body>
</html>
